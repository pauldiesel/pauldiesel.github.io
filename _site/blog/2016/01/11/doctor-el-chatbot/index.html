<!DOCTYPE HTML><html><head><meta charset="utf-8" /><link rel="apple-touch-icon" sizes="76x76" href="http://localhost:4000/assets/img/apple-icon.png"><link rel="icon" type="image/png" href="http://localhost:4000/assets/img/favicon.png"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Psychotherapist chatbot - Doctor.el</title><meta name="description" content="We study the behaviour of the Emacs Psychotherapist programme and thereby make some changes to the source of program <i>doctor.el</i> and hope to bring about some change in the way how the program interacts with us." /><meta name="author" content="M Reddy" /><meta name="viewport" content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' /><meta name="keywords" content="doctor,ai,chat-bot,lisp,eliza,emacs,Arcane, Reveries, M" /><meta name="msvalidate.01" content="" /><!-- Fonts and icons --><link rel="canonical" href="http://localhost:4000/blog/2016/01/11/doctor-el-chatbot/" /><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" /><link rel="stylesheet" href="http://localhost:4000/assets/stylesheets/font-awesome.min.css" /><link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet"><!-- CSS Files --><link href="http://localhost:4000/assets/stylesheets/application.css" rel="stylesheet" /> <script>var siteUrl = "http://localhost:4000"; var pageUrl = "/blog/2016/01/11/doctor-el-chatbot/"</script><!-- Open Graph Meta Tags --><meta property="og:url" content="http://localhost:4000/blog/2016/01/11/doctor-el-chatbot/" /><meta property="og:type" content="article" /><meta property="og:title" content="Psychotherapist chatbot - Doctor.el" /><meta property="og:description" content="We study the behaviour of the Emacs Psychotherapist programme and thereby make some changes to the source of program <i>doctor.el</i> and hope to bring about some change in the way how the program interacts with us." /><meta property="og:image" content="http://localhost:4000/assets/posts/2016-01-11-doctor-el-chatbot/feature.png" /><meta property="og:image:alt" content="Psychotherapist chatbot - Doctor.el" /><!-- Facebook Tags --><!-- Twitter Tags --><meta name="twitter:card" content="summary" /><meta name="twitter:creator" content="@" /><meta name="twitter:site" content="@" /><meta name="twitter:title" content="Psychotherapist chatbot - Doctor.el" /><meta name="twitter:description" content="We study the behaviour of the Emacs Psychotherapist programme and thereby make some changes to the source of program <i>doctor.el</i> and hope to bring about some change in the way how the program interacts with us." /><meta name="twitter:image" content="http://localhost:4000/assets/posts/2016-01-11-doctor-el-chatbot/feature.png" /><!-- Google Data --> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "http://localhost:4000/blog/2016/01/11/doctor-el-chatbot/" }, "headline": "Psychotherapist chatbot - Doctor.el", "image": [ "http://localhost:4000/assets/posts/2016-01-11-doctor-el-chatbot/feature.png" ], "datePublished": "2016-01-11 00:00:00 -0500", "publisher":{ "@type": "Organization", "name": "Arcane Reveries", "logo": { "@type": "ImageObject", "url": "http://localhost:4000/favicon.png" } }, "author": { "@type": "Person", "name": "M Reddy", "sameAs": [ "" ] }, "description": "We study the behaviour of the Emacs Psychotherapist programme and thereby make some changes to the source of program <i>doctor.el</i> and hope to bring about some change in the way how the program interacts with us." } </script><body class="index-page"><nav class="navbar navbar-transparent navbar-fixed-top navbar-color-on-scroll"><div class="container"><div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-index"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a href="http://localhost:4000/"><div class="logo-container" style="padding-left: 12px"><div class="logo"> <img src="http://localhost:4000/assets/img/logo.jpg" alt="Manikanta Reddy D" rel="tooltip" title="Hello! Its Me." data-placement="bottom" data-html="true"></div><div class="logo-brand"> Confabs</div></div></a></div><div class="collapse navbar-collapse" id="navigation-index"><ul class="nav navbar-nav navbar-right"><li> <a href="http://localhost:4000/about"> <i class="material-icons">account_circle</i> About </a><li> <a href="http://localhost:4000/blog"> <i class="material-icons">dashboard</i> Posts </a><li> <a href="http://localhost:4000/tags"> <i class="fa fa-tag"></i> Tags </a></ul></div></div></nav><div class="wrapper"><div class="header header-filter" ><div class="container" style=" background-image: url('http://localhost:4000/assets/posts/2016-01-11-doctor-el-chatbot/feature.png'); width:100%; background-position: center; " ><div class="row" style=" background: rgba(39,62,84,0.82); overflow: hidden; height: 100%; z-index: 500; " ><div class="col-md-8 col-md-offset-2"><div class="brand"><h1>Psychotherapist chatbot - Doctor.el</h1><h3></h3></div></div></div></div></div><div class="main"><div class="section"><div class="container"><div class="col-md-10 col-lg-offset-1" style="font-family: 'Comfortaa'"><blockquote><p>We study the behaviour of the Emacs Psychotherapist programme and thereby make some changes to the source of program <i>doctor.el</i> and hope to bring about some change in the way how the program interacts with us.</blockquote><div class="row"><p class="col-md-6">11 January 2016<p class="col-md-6">Reading time ~4 minutes</div><div style="overflow: hidden;"><div class="tags" style="white-space: nowrap; overflow-x: auto; overflow-y:hidden; width: 100%; height: 50px"> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/doctor" class="">doctor</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/ai" class="">ai</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/chat-bot" class="">chat-bot</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/lisp" class="">lisp</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/eliza" class="">eliza</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/emacs" class="">emacs</a></button></div></div><hr /><h2 id="eliza">ELIZA</h2><p>ELIZA is a computer program and an early example of primitive natural language processing. ELIZA operated by processing users’ responses to scripts, the most famous of which was DOCTOR, a simulation of a Rogerian psychotherapist. Using almost no information about human thought or emotion, DOCTOR sometimes provided a startlingly human-like interaction. ELIZA was written at the MIT Artificial Intelligence Laboratory by Joseph Weizenbaum between 1964 and 1966.<p>When the “patient” exceeded the very small knowledge base, DOCTOR might provide a generic response, for example, responding to “My head hurts” with “Why do you say your head hurts?” A possible response to “My mother hates me” would be “Who else in your family hates you?” ELIZA was implemented using simple pattern matching techniques, but was taken seriously by several of its users, even after Weizenbaum explained to them how it worked. It was one of the first chatterbots.<p>It is programmed in LISP and was subsequently ported to many other languages and platforms. We’ll be sticking to Eliza in Emacs and which is also programmed in LISP.<figure><figcaption>Source: Wikipedia</figcaption></figure><h2>Basic Functioning of ELIZA</h2><p> Any input given by the user is taken by the doctor and is tokenized and is interpreted by different fucntions.<p>for example<pre>
(doctor-put-meaning maternal 'family)
(doctor-put-meaning paternal 'family)
(doctor-put-meaning stab 'death)
(doctor-put-meaning murder 'death)
</pre><p><br /> These four lines assign maternal and paternal a <i>meaning</i> family and stab, murder as <i>death</i>.<pre>
(defun doctor-family ()
(doctor-possess doctor-sent doctor-found)
(doctor-type (doc$ doctor--famlst)))
</pre><p> <br />This function doctor-family calls doctor--famlst whenever maternal or paternal appears in the input!<pre>
(set (make-local-variable 'doctor--famlst)
		'((tell me (doc$ doctor--something) about (doc// doctor-owner) family \.)
(you seem to dwell on (doc// doctor-owner) family \.)
((doc$ doctor--areyou) hung up on (doc// doctor-owner) family \?)))
</pre><p> <br />Now the <i>famlst</i> function picks from one of the 3 responses and displays us and then cycles to next response for fucture references of family.<h2>Its Intelligence</h2><p> The intelligence of the program heavily relies on the fact that it is a Psychotherapist.<p> As can easily be observed it replies to a statement with an other question in general, that too with very intimate, asking us about more intricate details of the statement made. By doing so it gives us an illusion of a high class therapist with a good charm.<p> Here is an excerpt from a sample conversation<pre>
I am the psychotherapist.  Please, describe your problems.  Each time you are finished talking, type RET twice.

How are you?

I'm ok.  Tell me about yourself.

I'm sad today.

Why do you say you are sad today?

I don't know.

Is it because of your plans that you say you do not know?

I'm taking cocaine

Do you use cocaine often?

yes

I see...  Well, what makes you believe this is so?

I'm depressed

Are you depressed often?

Yes

Yes, hmmm... so, are you sure that this is so?

Yes

I understand.  So do you really think this is so?
</pre><p> As you can see, ELIZA compells the user to give a repy which is sort of the same thing done by a therapist.<h2>Shortcomings</h2><p> Clearly ELIZA gets struck with repetetive responses and after a point it gets annoying, but that might actually be the point.<p> It sometimes doesn't get positivity.<pre>
I'm happy today

Do you get happy often?

My grades are good nowadays.

Tell me about your grades.

They are really good

Why do you say they are really good?
</pre><h2>Improvements I brought about</h2><p> One of the problems I've seen is as follows<pre>
I'm from Kanpur.

Why do you say you are from kanpur?
</pre><p> This is not what we expect. we expect a greeting, so I tried fixing it by defining new functions for location identification.<h3>Improvised conversation</h3><pre>
I'm from Delhi

Hi there from Delhi.

My home is in Delhi

Oh, Delhi must be a nice place to live.

I used to live in Delhi

I once lived in Delhi too.

I came here from Delhi

Good.
</pre><p> I built a list of replies to be given whenever a person says he is from so and so location and they keep cycling just like other doctor replies.<h2>Other shortcomings</h2><p> Its replies itself!<br /> If you don't enter any text and press RET it assumes what it said as the input and then replies LOL.<pre>
I would appreciate it if you would continue.

Why do you say you would appreciate it if I would continue?
</pre><p> No hardcoded Dictionary!<br /> If you hit with random words it assumes they are nouns!<pre>
bum bhole nath

Why do you say bum bhole nath?
</pre><h2>Conclusion</h2><p> It is a very nice attempt at creating an AI, the ascpect of memory and keeping the conversation going really make it feel human.<p> Please find here the modified doctor.el file<p> <a class="btn btn-primary" href="https://github.com/manikantareddyd/doctor-eliza" target="_blank" role="button">doctor.el &raquo;</a><hr /><hr /><div class="row comments animated fadeInUp"><h3>Comments</h3><button id="show-comments" class="btn btn-primary">Load comments</button><div id="comments-spinner" style="display: none;"><!--<div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>--><div style="text-align: center;"> <svg width="33%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-infinity"><path fill="none" ng-attr-stroke="" ng-attr-stroke-width="" ng-attr-stroke-dasharray="" d="M24.3,30C11.4,30,5,43.3,5,50s6.4,20,19.3,20c19.3,0,32.1-40,51.4-40 C88.6,30,95,43.3,95,50s-6.4,20-19.3,20C56.4,70,43.6,30,24.3,30z" stroke="#03a9f4" stroke-width="1" stroke-dasharray="6.414723205566406 6.414723205566406"> <animate attributeName="stroke-dashoffset" calcMode="linear" values="0;256.58892822265625" keyTimes="0;1" dur="5" begin="0s" repeatCount="indefinite"></animate> </path> </svg></div></div><div id="comments" style="display: none;"><ul class="nav nav-pills"></ul><hr /><div class="tab-content"></div></div></div><h2 style="text-align: center;">More Posts</h2><div class="row"><div class="col-md-6"><div class="card card-raised"><div class="card-image" style="background-image: url('/assets/posts/2016-01-26-manifold-learning/feature.png'); "></div><div class="content"> <a href="http://localhost:4000/blog/2016/01/26/manifold-learning/"><h3>Unsupervised Learning of Manifolds</h3></a><div class="row"><p class="col-md-6">26 January 2016<p class="col-md-6">Reading time ~5 minutes</div><p>We will learn the structure of space for a mobile robot, based on observations (i.e. images from the robot's camera) and nothing else. We will be using the isomap algorithm to discover the lower d...</div><div class="tags content-bottom"> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/manifolds" class="">manifolds</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/sklearn" class="">sklearn</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/simulation" class="">simulation</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/uma-thurman" class="">uma-thurman</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/bill" class="">bill</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/ai" class="">ai</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/machine-learning" class="">machine-learning</a></button></div></div></div><div class="col-md-6"><div class="card card-raised"><div class="card-image" style="background-image: url('/assets/posts/2013-12-13-vhe-gamma-ray-astronomy/feature.jpg'); "></div><div class="content"> <a href="http://localhost:4000/blog/2013/12/13/vhe-gamma-ray-astronomy/"><h3>Very High Energy Ground Based Gamma Ray Telescopy Using TACTIC</h3></a><div class="row"><p class="col-md-6">13 December 2013<p class="col-md-6">Reading time ~7 minutes</div><p>We study the processes of interaction of gamma rays, formation of extensive air showers, imaging of the Cherenkov radiation and data analysis of the observed data of Crab Nebula and MRK421 using TA...</div><div class="tags content-bottom"> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/gamma-rays" class="">gamma-rays</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/astronomy" class="">astronomy</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/telescopes" class="">telescopes</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/nebula" class="">nebula</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/hocus-pocus" class="">hocus-pocus</a></button> <button class="btn btn-simple btn-primary" style="padding: 5px;"><a href="http://localhost:4000/tags/image-processing" class="">image-processing</a></button></div></div></div></div></div></div></div></div></div><!-- Core JS Files --> <script src="http://localhost:4000/assets/javascripts/vendors/jquery.min.js" type="text/javascript"></script> <script src="http://localhost:4000/assets/javascripts/vendors/material-kit/bootstrap.min.js" type="text/javascript"></script> <script src="http://localhost:4000/assets/javascripts/vendors/material-kit/material.min.js"></script><!-- <script src="http://localhost:4000/assets/javascripts/vendors/material-kit/nouislider.min.js" type="text/javascript"></script> --> <script src="http://localhost:4000/assets/javascripts/vendors/material-kit/bootstrap-datepicker.js" type="text/javascript"></script> <script src="http://localhost:4000/assets/javascripts/vendors/material-kit/material-kit.js" type="text/javascript"></script><!-- <script type="text/javascript"> $().ready(function () { materialKit.initSliders(); window_width = $(window).width(); if (window_width >= 992) { big_image = $('.wrapper > .header'); $(window).on('scroll', materialKitDemo.checkScrollForParallax); } }); </script> --><div id="fb-root"></div><script> var load_facebook = function(){ (function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId="; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk')); }; </script> <script src="http://localhost:4000/assets/javascripts/comments.js"></script> <script> $(document).on('click', 'a[href^="#"]', function (event) { event.preventDefault(); $('html, body').animate({ scrollTop: $($.attr(this, 'href')).offset().top -150 }, 500); }); </script>
    